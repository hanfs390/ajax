<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Go语言与ajax示例</title>

</head>
<body>
    <p><input id="btn1" type="button" value="按钮" /></p>
    <p><input id="txt1" type="text" /></p>
<script>
window.onload = main;

function main() {
    var oBtn = document.getElementById('btn1');
    oBtn.onclick = OnButton1;
}

function OnButton1() {
    var xhr = new XMLHttpRequest();
    xhr.open("get", "/ajax", true);
    xhr.send();

    xhr.onreadystatechange = function () {
        if (xhr.readyState == 4) { // 读取完成
            if (xhr.status == 200) {
                var oTxt = document.getElementById('txt1');
                oTxt.value = xhr.responseText;
            }
        }
    }
}
</script>
</body>
</html>
